---
phase: 15.1
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/components/ui/button.tsx, src/components/features/climb-card.tsx]
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Mark as Sent button uses consistent white opacity styling matching design system"
    - "Button background uses bg-white/[0.02] for minimal/inactive state"
    - "Button border uses border-white/20 with hover:border-white/40 transition"
    - "Button typography matches SelectionButton pattern (uppercase, font-black)"
    - "No className hacks on Mark as Sent button (pure variant-based styling)"
  artifacts:
    - path: "src/components/ui/button.tsx"
      provides: "Button component with unified ghost variant"
      contains: "ghost: 'border-white/20 hover:border-white/40 bg-white/[0.02] text-[#888] hover:text-white'"
    - path: "src/components/features/climb-card.tsx"
      provides: "ClimbCard with properly styled Mark as Sent button"
      exports: ["ClimbCard"]
      contains: "variant=\"ghost\""
  key_links:
    - from: "src/components/features/climb-card.tsx"
      to: "src/components/ui/button.tsx"
      via: "Button component ghost variant"
      pattern: 'variant="ghost"'
---

<objective>
Fix "Mark as Sent" button styling to conform to unified design system patterns by adding a proper ghost variant to the Button component.

Purpose: Eliminate className hacks and ensure consistent styling across all secondary/minimal buttons using white opacity patterns established in Phase 14.
Output: Updated Button component with ghost variant and ClimbCard using the variant properly.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/15.1-fix-ugly-mark-as-sent-button-styling-urgent/15.1-RESEARCH.md
@.planning/STATE.md

# Design System Patterns (from Phase 14)
- White opacity colors: bg-white/[0.02], border-white/20, hover:border-white/40
- Typography for action buttons: text-xs font-black uppercase tracking-wider
- SelectionButton component reference for consistent button patterns

# Current Implementation
@src/components/ui/button.tsx
@src/components/features/climb-card.tsx
</context>

<tasks>

<task type="auto">
  <name>Update Button component to add unified ghost variant</name>
  <files>src/components/ui/button.tsx</files>
  <action>
    Replace the existing ghost variant in buttonVariants (line 17) with the unified design system pattern:
    - Replace: `ghost: 'hover:bg-accent hover:text-accent-foreground'`
    - With: `ghost: 'border-white/20 hover:border-white/40 bg-white/[0.02] text-[#888] hover:text-white'`

    This pattern matches:
    - Background: bg-white/[0.02] (minimal/inactive state)
    - Border: border-white/20 with hover transition to border-white/40
    - Text: text-[#888] for default, hover:text-white for visibility
    - Matches Phase 14 design system (SelectionButton, FormSection, FormLabel)

    Note: ErrorBanner.tsx uses ghost variant with className overrides for red theme, so this change won't break it.
  </action>
  <verify>grep -n "ghost:.*border-white/20" /home/filip/Repos/scenka/src/components/ui/button.tsx</verify>
  <done>Button component has ghost variant with white opacity styling matching design system</done>
</task>

<task type="auto">
  <name>Update ClimbCard to use ghost variant for Mark as Sent button</name>
  <files>src/components/features/climb-card.tsx</files>
  <action>
    Update the Mark as Sent button (lines 204-213):
    1. Change variant from "outline" to "ghost"
    2. Remove className="text-[#aaa]" hack (no longer needed with ghost variant)
    3. Add SelectionButton typography: className="text-xs font-black uppercase tracking-wider"

    Target result:
    ```typescript
    <Button
      type="button"
      onClick={handleMarkAsSent}
      disabled={updateClimb.isPending}
      variant="ghost"
      className="text-xs font-black uppercase tracking-wider"
    >
      <Check className="h-4 w-4 mr-2" />
      {updateClimb.isPending ? 'Updating...' : 'Mark as Sent'}
    </Button>
    ```
    This ensures consistent styling with SelectionButton components throughout the app.
  </action>
  <verify>grep -A 8 "Mark as Sent" /home/filip/Repos/scenka/src/components/features/climb-card.tsx | grep 'variant="ghost"'</verify>
  <done>Mark as Sent button uses ghost variant with consistent typography, no className hacks</done>
</task>

</tasks>

<verification>
1. Start dev server: `pnpm dev`
2. Navigate to Dashboard and view a failed climb card
3. Verify Mark as Sent button:
   - Background: subtle white/0.02 (minimal, not white)
   - Border: white/20, transitions to white/40 on hover
   - Text: #888 by default, transitions to white on hover
   - Typography: uppercase, font-black, tracking-wider (matches SelectionButton)
4. Test button click - climb should mark as sent successfully
5. No visual inconsistencies compared to other secondary buttons (Settings button in nav, Back button in wizard)
</verification>

<success_criteria>
- Button component ghost variant uses white opacity colors (bg-white/[0.02], border-white/20)
- ClimbCard Mark as Sent button uses variant="ghost" with SelectionButton typography
- No className color hacks (text-[#aaa]) on Mark as Sent button
- Styling matches unified design system from Phase 14
- Button interaction works correctly (marks climb as sent)
</success_criteria>

<output>
After completion, create `.planning/phases/15.1-fix-ugly-mark-as-sent-button-styling-urgent/15.1-01-SUMMARY.md`
</output>
