---
phase: 23-refocus-coach-on-technique
plan: 07
type: execute
wave: 3
depends_on: [23-01, 23-02, 23-03, 23-04, 23-05]
files_modified: [supabase/functions/openrouter-coach/index.ts]
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Example output demonstrates technique-focused drill"
    - "Example weekly_focus emphasizes technique over strength"
    - "Example aligns with system prompt philosophy"
  artifacts:
    - path: "supabase/functions/openrouter-coach/index.ts"
      provides: "Technique-focused example output"
      contains: "Silent Feet"
      contains: "Example output format"
  key_links:
    - from: "buildUserPrompt example"
      to: "System prompt philosophy"
      via: "technique-first approach"
      pattern: "Silent Feet|Flagging|Body Position"
    - from: "Example weekly_focus"
      to: "system prompt strength-to-technique reframing"
      via: "technique emphasis"
      pattern: "technique|footwork|positioning"
---

<objective>
Update example output in Edge Function to demonstrate technique-first coaching philosophy.

Purpose: The current example shows a hangboard protocol (strength training), which contradicts the system prompt's emphasis that "most 'strength' failures are actually technique gaps." The example should demonstrate technique-focused drills to guide the LLM toward the intended behavior.

Output: Updated example output with technique-focused drill and weekly focus.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/23-refocus-coach-on-technique/23-VERIFICATION.md

@supabase/functions/openrouter-coach/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update example output to technique-focused drill</name>
  <files>supabase/functions/openrouter-coach/index.ts</files>
  <action>
Update the example output format in buildUserPrompt function (around lines 206-218):

1. Replace the "7-3-5-3 Hangboard Protocol" drill with a technique-focused drill
2. Replace the strength-focused weekly_focus with technique-focused example
3. Keep the JSON structure and all other fields (name, description, sets, reps, rest, measurable_outcome)
4. Use technique terminology: footwork, body positioning, silent feet, flagging

Update the example to:
```typescript
Example output format:
{
  "weekly_focus": "Develop precise footwork and body positioning to address 35% failure rate on technical slab climbs",
  "drills": [
    {
      "name": "Silent Feet Ladder",
      "description": "Climb 10 easy routes focusing entirely on silent foot placements. Each foot must land without making any sound on the holds. If you hear a foot slap, that route doesn't count. This builds deliberate movement patterns and weight transfer awareness.",
      "sets": 5,
      "reps": "1 route per set",
      "rest": "2 minutes",
      "measurable_outcome": "Complete 10 routes with 100% silent foot placements"
    }
  ]
}
```

Key changes from the old example:
- weekly_focus: "finger strength through structured hangboard training" → "precise footwork and body positioning... technical slab climbs"
- drill name: "7-3-5-3 Hangboard Protocol" → "Silent Feet Ladder"
- drill description: Contact strength and hangboard → Silent foot placements and deliberate movement patterns
- measurable_outcome: Added (was missing in old example) - "Complete 10 routes with 100% silent foot placements"

Do NOT modify the "Example output format:" label or the closing brace structure.
Do NOT modify any other sections of the buildUserPrompt function.
</action>
  <verify>grep -A 12 "Example output format:" supabase/functions/openrouter-coach/index.ts | grep "Silent Feet"</verify>
  <done>Example output demonstrates technique-focused drill and weekly focus</done>
</task>

</tasks>

<verification>
- [ ] Example drill is technique-focused (Silent Feet, not hangboard/campus)
- [ ] Example weekly_focus emphasizes technique over strength
- [ ] Example includes measurable_outcome field (was missing before)
- [ ] JSON structure remains valid
- [ ] No other sections of buildUserPrompt modified
</verification>

<success_criteria>
Example output demonstrates technique-first coaching philosophy with appropriate drill terminology and emphasis on movement quality over strength.
</success_criteria>

<output>
After completion, create `.planning/phases/23-refocus-coach-on-technique/23-07-SUMMARY.md`
</output>
