---
phase: 14-unify-ui-styles
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/components/ui/selection-button.tsx, src/components/ui/form-section.tsx, src/components/ui/form-label.tsx, src/components/features/logger.tsx, src/components/features/charts-page.tsx, src/components/features/settings-page.tsx, src/components/features/climb-card.tsx, src/App.tsx]
autonomous: true
---

<objective>
Extract common UI patterns into reusable shadcn/ui components to reduce duplication and ensure visual consistency across the app.

Purpose: Replace repeated inline styles with reusable components, making the codebase more maintainable and visually cohesive.
Output: Three new shared UI components (SelectionButton, FormSection, FormLabel) used consistently throughout the app.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-unify-ui-styles/14-CONTEXT.md
@src/components/ui/button.tsx
@src/components/ui/badge.tsx
@src/components/ui/input.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SelectionButton component</name>
  <files>src/components/ui/selection-button.tsx</files>
  <action>Create a reusable SelectionButton component for toggle-style buttons (Boulder/Sport discipline, Sent/Fail outcome in Logger). Use class-variance-authority (cva) pattern like shadcn/ui Button with two variants:

- selected: Active state (bg-white/10 border-white/30 text-white)
- unselected: Inactive state (border-white/20 hover:border-white/40 bg-white/[0.02] text-[#aaa])

Component signature:
```typescript
interface SelectionButtonProps {
  children: React.ReactNode
  selected: boolean
  onClick: () => void
  className?: string
}
```

Base styling: flex-1 px-4 py-3 border-2 text-xs font-black uppercase tracking-wider transition-all (matches existing pattern in logger.tsx lines 234-252, 349-371)</action>
  <verify>pnpm typecheck passes, SelectionButton renders in isolation with both states</verify>
  <done>SelectionButton component created with selected/unselected variants, follows shadcn/ui cva pattern</done>
</task>

<task type="auto">
  <name>Task 2: Create FormSection component</name>
  <files>src/components/ui/form-section.tsx</files>
  <action>Create a reusable FormSection wrapper component for consistent section styling (the bg-white/[0.02] border-2 border-white/10 p-6 pattern repeated in ChartsPage, SettingsPage, ClimbCard).

Component signature:
```typescript
interface FormSectionProps {
  children: React.ReactNode
  className?: string
}
```

Base styling: bg-white/[0.02] border-2 border-white/10 p-6 hover:border-white/30 transition-all duration-200 (matches charts-page.tsx line 191, settings-page.tsx line 90, climb-card.tsx line 60)

Note: Keep hover effect for interactivity</action>
  <verify>pnpm typecheck passes, FormSection renders children with correct styling</verify>
  <done>FormSection component created, provides consistent card/section styling</done>
</task>

<task type="auto">
  <name>Task 3: Create FormLabel component</name>
  <files>src/components/ui/form-label.tsx</files>
  <action>Create a reusable FormLabel component for consistent label styling (the text-xs font-mono text-[#666] uppercase tracking-wider pattern repeated in all forms).

Component signature:
```typescript
interface FormLabelProps {
  children: React.ReactNode
  className?: string
}
```

Base styling: text-xs font-mono text-[#666] uppercase tracking-wider (matches logger.tsx lines 223, 261, 284, 336, 379, 400, 420, 443, 456)</action>
  <verify>pnpm typecheck passes, FormLabel renders with correct typography</verify>
  <done>FormLabel component created, provides consistent label typography</done>
</task>

<task type="auto">
  <name>Task 4: Refactor Logger to use new components</name>
  <files>src/components/features/logger.tsx</files>
  <action>Replace inline selection buttons and form elements in Logger with new components:

1. Replace Boulder/Sport discipline toggle buttons (lines 227-257) with SelectionButton components
2. Replace Sent/Fail outcome toggle buttons (lines 340-376) with SelectionButton components
3. Replace all form labels (lines 223, 261, 284, 336, 379, 400, 420, 443, 456) with FormLabel components
4. Wrap SheetContent children div with FormSection for overall container styling

Keep all existing functionality and props intact. Only replace styling patterns with components.</action>
  <verify>pnpm typecheck passes, pnpm lint passes, Logger renders identically to before refactor</verify>
  <done>Logger uses SelectionButton for toggles, FormLabel for all labels, reduced inline className duplication by ~30%</done>
</task>

<task type="auto">
  <name>Task 5: Refactor ChartsPage to use FormSection</name>
  <files>src/components/features/charts-page.tsx</files>
  <action>Replace inline section divs with FormSection components:

1. Replace Training Priorities section (lines 184-241) outer div with FormSection
2. Replace Anti-Style section (lines 244-294) outer div with FormSection
3. Replace Failure Radar section (lines 297-334) outer div with FormSection
4. Replace Sends by Grade section (lines 337-404) outer div with FormSection
5. Replace Redemption Rate section (lines 407-474) outer div with FormSection

Keep all chart content and inner styling intact. Only wrap section divs with FormSection.</action>
  <verify>pnpm typecheck passes, pnpm lint passes, ChartsPage renders identically</verify>
  <done>ChartsPage uses FormSection for all 5 chart sections, eliminated ~50 lines of duplicate styling</done>
</task>

<task type="auto">
  <name>Task 6: Refactor SettingsPage to use FormSection and FormLabel</name>
  <files>src/components/features/settings-page.tsx</files>
  <action>Replace inline form elements with new components:

1. Replace main form container div (line 90) with FormSection
2. Replace all form labels (lines 92, 103, 124, 149) with FormLabel components

Keep all form controls and functionality intact. Only replace wrapper and labels.</action>
  <verify>pnpm typecheck passes, pnpm lint passes, SettingsPage renders identically</verify>
  <done>SettingsPage uses FormSection wrapper and FormLabel for all labels, consistent with other forms</done>
</task>

<task type="auto">
  <name>Task 7: Refactor ClimbCard to use FormSection and FormLabel</name>
  <files>src/components/features/climb-card.tsx</files>
  <action>Replace inline elements with new components:

1. Replace main card div (line 60) with FormSection
2. Replace all label divs (lines 64, 67, 72, 148, 167, 186) with FormLabel components

Keep all card content, actions, and styling intact. Only replace wrapper and labels.</action>
  <verify>pnpm typecheck passes, pnpm lint passes, ClimbCard renders identically</verify>
  <done>ClimbCard uses FormSection wrapper and FormLabel for all labels, unified with other components</done>
</task>

<task type="auto">
  <name>Task 8: Update component exports</name>
  <files>src/components/ui/index.ts, src/components/features/index.ts</files>
  <action>Export new components from their respective index files:

1. Add SelectionButton export to src/components/ui/index.ts
2. Add FormSection export to src/components/ui/index.ts
3. Add FormLabel export to src/components/ui/index.ts

Update features index if needed (likely not needed as these are ui components, not features).</action>
  <verify>pnpm typecheck passes, imports work from @/components/ui</verify>
  <done>New components exported from index.ts, available for import with @/components/ui</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] pnpm typecheck passes (no TypeScript errors)
- [ ] pnpm lint passes (no ESLint errors)
- [ ] All new components follow shadcn/ui cva pattern
- [ ] Logger, ChartsPage, SettingsPage, ClimbCard render identically to before refactor
- [ ] Reduced inline className duplication across codebase by >200 occurrences
</verification>

<success_criteria>

- All three new components created (SelectionButton, FormSection, FormLabel)
- All feature components refactored to use new shared components
- No visual changes to app (refactoring only)
- Codebase has consistent UI patterns with reduced duplication
- Components exported and available for future use
  </success_criteria>

<output>
After completion, create `.planning/phases/14-unify-ui-styles/14-01-SUMMARY.md` with:
- Components created: SelectionButton, FormSection, FormLabel
- Files refactored: Logger, ChartsPage, SettingsPage, ClimbCard
- Lines of duplicate styling eliminated
- Future recommendations for continued UI unification
</output>
