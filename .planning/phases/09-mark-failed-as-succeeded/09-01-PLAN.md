---
phase: 09-mark-failed-as-succeeded
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/components/features/climb-card.tsx, src/App.tsx]
autonomous: true
---

<objective>
Implement "Mark as Sent" functionality to allow users to mark previously failed climbs as succeeded, tracking redemption rate.

Purpose: Enable climbers to track progress by marking failed climbs they later completed. This provides redemption data for Phase 10 analytics.

Output: ClimbCard component with "Mark as Sent" button, integrated into Dashboard climb list.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-mark-failed-as-succeeded/09-RESEARCH.md
@src/hooks/useClimbs.ts
@src/components/features/logger.tsx
@src/App.tsx
@src/types/index.ts
</context>

<tasks>
<task type="auto">
  <name>Task 1: Create ClimbCard component</name>
  <files>src/components/features/climb-card.tsx</files>
  <action>Create new reusable ClimbCard component that renders climb details with a "Mark as Sent" button for failed climbs. Use existing shadcn/ui Button component with appropriate styling. Import useUpdateClimb() hook and call it with outcome: 'Sent' and failure_reasons: []. Component should render all climb details (grade, location, style, awkwardness, notes, hold color, outcome badge) and only show "Mark as Sent" button when climb.outcome === 'Fail'. Follow existing patterns from RESEARCH.md: use useUpdateClimb() mutation (don't create custom mutation), call updateClimb() through the hook (don't bypass service layer), cache invalidates automatically via onSuccess callback. This replaces inline climb rendering in App.tsx Dashboard component for better code organization.</action>
  <verify>TypeScript compiles with no errors (pnpm typecheck), component exports successfully</verify>
  <done>ClimbCard component created with "Mark as Sent" button that uses useUpdateClimb() hook, button only shows for failed climbs</done>
</task>

<task type="auto">
  <name>Task 2: Integrate ClimbCard into Dashboard</name>
  <files>src/App.tsx</files>
  <action>Replace inline climb rendering in Dashboard function (lines 96-245) with ClimbCard component. Import ClimbCard at top of file with other component imports. Remove the inline climb rendering div and replace with <ClimbCard climb={climb} /> for each climb in the map. Pass climb object as prop. Update climbCards Context type to include onMarkAsSent action (optional - future use) or just use existing onEditClick context for now. Keep existing ClimbActionsContext.Provider and context value (onEditClick, onDeleteClick). This change isolates climb display logic into reusable component following code organization best practices from RESEARCH.md.</action>
  <verify>TypeScript compiles with no errors (pnpm typecheck), App.tsx compiles successfully, Dashboard still displays climbs in list format</verify>
  <done>Dashboard uses ClimbCard component instead of inline rendering, climb list still functional with edit/delete buttons, "Mark as Sent" button appears for failed climbs</done>
</task>
</tasks>

<verification>
Before declaring plan complete:
- [ ] pnpm typecheck passes with no TypeScript errors
- [ ] pnpm build succeeds without errors
- [ ] ClimbCard component exports successfully
- [ ] Dashboard renders climbs using ClimbCard
- [ ] "Mark as Sent" button appears for failed climbs
- [ ] "Mark as Sent" button is hidden for Sent climbs
- [ ] Edit and Delete buttons still work
</verification>

<success_criteria>
- ClimbCard component created with proper TypeScript types
- "Mark as Sent" button functionality working via useUpdateClimb() hook
- Component integrated into Dashboard climb list
- All existing functionality preserved (edit, delete)
- No TypeScript or build errors
- Follows codebase patterns from RESEARCH.md
</success_criteria>

<output>
After completion, create `.planning/phases/09-mark-failed-as-succeeded/09-01-SUMMARY.md`
</output>
