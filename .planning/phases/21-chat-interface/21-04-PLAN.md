---
phase: 21-chat-interface
plan: 04
type: execute
wave: 3
depends_on: [21-01, 21-02]
files_modified:
  - src/App.tsx
autonomous: false
user_setup: []

must_haves:
  truths:
    - "/coach/chat route renders CoachChatPage component"
    - "Navigation from /coach to /coach/chat works via button"
    - "Back button in chat returns to /coach"
    - "Route is accessible directly via URL"
  artifacts:
    - path: "src/App.tsx"
      provides: "React Router configuration for chat route"
      min_lines: 1
      contains: "/coach/chat"
  key_links:
    - from: "src/App.tsx"
      to: "src/components/features/coach-chat-page.tsx"
      via: "React Router route"
      pattern: "path.*coach/chat.*element.*CoachChatPage"
    - from: "src/components/features/coach-page.tsx"
      to: "/coach/chat"
      via: "navigation button"
      pattern: "navigate.*coach/chat"
---

<objective>
Add chat route to React Router configuration

Purpose: Enable navigation to the chat interface from recommendations page and direct URL access
Output: Updated src/App.tsx with /coach/chat route
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/App.tsx
@src/components/features/coach-page.tsx
@src/components/features/coach-chat-page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add chat route to App.tsx</name>
  <files>src/App.tsx</files>
  <action>
Update src/App.tsx to add /coach/chat route:

1. Import CoachChatPage from @/components/features/coach-chat-page

2. Add Route element:
   - path: '/coach/chat'
   - element: <CoachChatPage />

3. Place route appropriately in the routing structure (after /coach route, before any 404 route)

Reference: Existing /coach route structure in src/App.tsx
</action>
  <verify>grep -A 2 'path.*coach/chat' src/App.tsx</verify>
  <done>/coach/chat route added to React Router configuration</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>React Router route for /coach/chat with navigation integration</what-built>
  <how-to-verify>
    1. Start dev server: pnpm dev
    2. Navigate to http://localhost:5173/coach
    3. Click "Ask Coach a Question" button
    4. Verify navigation to http://localhost:5173/coach/chat
    5. Verify chat page loads with proper UI
    6. Click back button in chat header
    7. Verify navigation returns to http://localhost:5173/coach
    8. Test direct URL access: Navigate to http://localhost:5173/coach/chat directly
    9. Verify chat page loads without errors
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues</resume-signal>
</task>

</tasks>

<verification>
1. CoachChatPage imported in src/App.tsx
2. Route with path '/coach/chat' exists
3. Route element uses CoachChatPage component
4. Route placed after /coach route in routing configuration
5. Navigation from /coach button works
6. Back button in chat page works
7. Direct URL access to /coach/chat works
</verification>

<success_criteria>
1. Users can navigate from recommendations page to chat via button
2. Users can return from chat to recommendations via back button
3. Users can access chat directly via URL (bookmarks, shareable links)
4. Route configuration follows existing React Router patterns
</success_criteria>

<output>
After completion, create `.planning/phases/21-chat-interface/21-04-SUMMARY.md`
</output>
