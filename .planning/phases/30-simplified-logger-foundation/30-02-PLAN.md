---
phase: 30-simplified-logger-foundation
plan: 02
type: execute
wave: 1
depends_on: [30-01]
files_modified:
  - src/components/features/simplified-logger.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "User can log climb with grade scale and grade value (SIMP-01)"
    - "User can log climb with outcome Sent/Fail (SIMP-02)"
    - "User can log climb with terrain type from 8 options (SIMP-03)"
    - "User can log climb with awkwardness 3 options (SIMP-04)"
    - "User can log climb with free-form notes (SIMP-05)"
    - "Logger form does NOT include manual style tags selector (SIMP-06)"
    - "Logger form does NOT include manual failure reasons selector (SIMP-07)"
    - "Form validates all required fields before submission (SIMP-08)"
    - "Form auto-resets after successful submission (SIMP-09)"
  artifacts:
    - path: src/components/features/simplified-logger.tsx
      provides: Simplified climb logging form with reduced complexity
      min_lines: 200
      contains: "export const SimplifiedLogger"
    - path: src/components/features/index.ts
      provides: Export of SimplifiedLogger component
      contains: "export.*SimplifiedLogger"
  key_links:
    - from: simplified-logger.tsx
      to: simplifiedClimbSchema
      via: "zodResolver import and useForm configuration"
      pattern: "from '@/lib/validation'.*simplifiedClimbSchema"
    - from: simplified-logger.tsx
      to: TERRAIN_OPTIONS, AWKWARDNESS_OPTIONS
      via: "constants import for terrain and awkwardness options"
      pattern: "from '@/lib/constants'.*TERRAIN_OPTIONS.*AWKWARDNESS_OPTIONS"
    - from: simplified-logger.tsx
      to: useCreateClimb
      via: "TanStack Query mutation for climb creation"
      pattern: "useCreateClimb.*mutate"
    - from: simplified-logger.tsx
      to: reset()
      via: "React Hook Form reset on successful submission"
      pattern: "onSuccess.*reset\\(\\)"
---

<objective>
Build simplified logger component with reduced-complexity form: grade, outcome, terrain type (8 options), awkwardness (3 options), notes. No style or failure reason selectors.

Purpose: Reduce logging friction by eliminating multi-select decisions while preserving essential data capture.

Output: New simplified-logger.tsx component with auto-reset behavior, mobile-optimized grid layout for terrain type.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/REQUIREMENTS.md
@.planning/phases/30-simplified-logger-foundation/30-RESEARCH.md
@.planning/phases/30-simplified-logger-foundation/30-01-SUMMARY.md
@src/components/features/logger.tsx
@src/lib/validation.ts
@src/lib/constants.ts
@src/hooks/useClimbs.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SimplifiedLogger component structure</name>
  <files>src/components/features/simplified-logger.tsx</files>
  <action>
    Create new simplified-logger.tsx component based on existing logger.tsx pattern with these modifications:

    1. Imports:
    - Use simplifiedClimbSchema and SimplifiedClimbInput from '@/lib/validation'
    - Import TERRAIN_OPTIONS, AWKWARDNESS_OPTIONS from '@/lib/constants'
    - Import TrendingUp, TrendingDown for outcome buttons
    - Remove STYLE_OPTIONS, getFailureReasons, getAwkwardnessLabel imports (not needed)

    2. Component structure:
    - Same Sheet-based slide-over panel
    - Form with React Hook Form + Zod resolver
    - useCreateClimb mutation with onSuccess callback

    3. State to track:
    - gradeScale (color_circuit/font/v_scale)
    - discipline (boulder/sport)
    - outcome (Sent/Fail)
    - awkwardness (smooth/normal/awkward) - change from number(1-5) to string enum
    - terrainType (string from TERRAIN_OPTIONS)
    - Remove selectedStyles and selectedReasons state

    4. Form fields to include (preserve existing patterns):
    - Discipline selection (boulder/sport) - existing SelectionButton pattern
    - Grade scale dropdown - existing Select pattern
    - Grade picker (color buttons or grid) - existing renderGradePicker pattern
    - Hold color (optional) - existing color grid pattern
    - Outcome buttons (Sent/Fail) - existing button pattern with TrendingUp/TrendingDown icons
    - Terrain type (NEW) - grid of 4x2 buttons for 8 options (see Research pattern)
    - Awkwardness (CHANGED) - 3 SelectionButtons (smooth/normal/awkward) instead of Slider
    - Notes (optional) - existing Textarea pattern
    - Location input - existing Input pattern

    5. Fields to remove (SIMP-06, SIMP-07):
    - No style multi-select badges
    - No failure_reasons multi-select badges
    - No toggleStyle and toggleReason handlers
    - No selectedStyles and selectedReasons state

    6. Form reset (SIMP-09):
    - Preserve auto-reset pattern from existing logger
    - Call reset() in mutation onSuccess callback
    - Reset local state to defaults (gradeScale='color_circuit', outcome='Fail', awkwardness='normal', terrainType='Vert')
    - Close sheet if profile.close_logger_after_add is true

    Keep existing mobile-responsive styling, dark theme, and accessibility patterns.
  </action>
  <verify>ls -la src/components/features/simplified-logger.tsx exists and grep -c "export.*SimplifiedLogger" returns 1</verify>
  <done>SimplifiedLogger component created with all required fields, no style/failure_reasons selectors</done>
</task>

<task type="auto">
  <name>Task 2: Implement terrain type selection UI (NEW)</name>
  <files>src/components/features/simplified-logger.tsx</files>
  <action>
    Add terrain type selection field after outcome selection using 4x2 grid pattern:

    ```typescript
    <div className="space-y-2">
      <FormLabel>Terrain Type</FormLabel>
      <div className="grid grid-cols-4 gap-2">
        {TERRAIN_OPTIONS.map((terrain) => (
          <button
            key={terrain}
            type="button"
            onClick={() => {
              setTerrainType(terrain)
              setValue('terrain_type', terrain, { shouldValidate: true })
            }}
            className={cn(
              'px-3 py-3 text-xs font-black uppercase tracking-wider rounded-md border-2 transition-all',
              terrainType === terrain
                ? 'bg-white/10 border-white/30 text-white'
                : 'border-white/20 hover:border-white/30 bg-white/[0.02] text-[#888]'
            )}
          >
            {terrain}
          </button>
        ))}
      </div>
      {errors.terrain_type !== undefined && (
        <p className="text-xs text-red-400 font-mono">{errors.terrain_type.message}</p>
      )}
    </div>
    ```

    Place this after outcome buttons and before awkwardness. Use 4x2 grid for mobile-friendly tap targets (44px+ min height).
  </action>
  <verify>grep -c "Terrain Type" src/components/features/simplified-logger.tsx returns at least 1</verify>
  <done>Terrain type grid with 8 buttons displayed, validation error shows when missing</done>
</task>

<task type="auto">
  <name>Task 3: Implement 3-option awkwardness selection (CHANGED)</name>
  <files>src/components/features/simplified-logger.tsx</files>
  <action>
    Replace the 5-point Slider with 3 SelectionButtons using this pattern:

    ```typescript
    <div className="space-y-2">
      <FormLabel>Awkwardness</FormLabel>
      <div className="flex gap-2">
        <button
          type="button"
          onClick={() => {
            setAwkwardness('smooth')
            setValue('awkwardness', 'smooth', { shouldValidate: true })
          }}
          className={cn(
            'flex-1 px-4 py-3 border-2 transition-all',
            awkwardness === 'smooth'
              ? 'bg-emerald-500/10 border-emerald-500/50 text-emerald-400'
              : 'border-white/20 hover:border-white/40 bg-white/[0.02] text-[#aaa]'
          )}
        >
          <span className="text-xs font-black uppercase tracking-wider">Smooth</span>
        </button>
        <button
          type="button"
          onClick={() => {
            setAwkwardness('normal')
            setValue('awkwardness', 'normal', { shouldValidate: true })
          }}
          className={cn(
            'flex-1 px-4 py-3 border-2 transition-all',
            awkwardness === 'normal'
              ? 'bg-white/10 border-white/30 text-white'
              : 'border-white/20 hover:border-white/40 bg-white/[0.02] text-[#aaa]'
          )}
        >
          <span className="text-xs font-black uppercase tracking-wider">Normal</span>
        </button>
        <button
          type="button"
          onClick={() => {
            setAwkwardness('awkward')
            setValue('awkwardness', 'awkward', { shouldValidate: true })
          }}
          className={cn(
            'flex-1 px-4 py-3 border-2 transition-all',
            awkwardness === 'awkward'
              ? 'bg-red-500/10 border-red-500/50 text-red-400'
              : 'border-white/20 hover:border-white/40 bg-white/[0.02] text-[#aaa]'
          )}
        >
          <span className="text-xs font-black uppercase tracking-wider">Awkward</span>
        </button>
      </div>
    </div>
    ```

    This replaces the Slider component used in the old logger. Color coding: green for smooth, white for normal, red for awkward.
  </action>
  <verify>grep -c "Smooth.*Normal.*Awkward" src/components/features/simplified-logger.tsx returns at least 3</verify>
  <done>Three awkwardness buttons (smooth/normal/awkward) with color-coded states, no Slider component</done>
</task>

<task type="auto">
  <name>Task 4: Export SimplifiedLogger from features index</name>
  <files>src/components/features/index.ts</files>
  <action>
    Add SimplifiedLogger export to src/components/features/index.ts:

    ```typescript
    export { SimplifiedLogger } from './simplified-logger'
    ```

    Place it alongside the existing Logger export for clarity.
  </action>
  <verify>grep "SimplifiedLogger" src/components/features/index.ts returns match</verify>
  <done>SimplifiedLogger exported from features index for app-wide import</done>
</task>

</tasks>

<verification>
1. Form includes: grade scale, grade value, outcome, terrain type, awkwardness, notes, location
2. Form excludes: style multi-select, failure_reasons multi-select
3. Terrain type: 8-button grid (4x2), required field with validation
4. Awkwardness: 3 buttons (smooth/normal/awkward), color-coded states
5. Auto-reset: form clears and closes after successful submission
6. TypeScript compiles: no type errors with SimplifiedClimbInput
</verification>

<success_criteria>
- SIMP-01: Grade scale and grade value selection works
- SIMP-02: Outcome Sent/Fail selection works
- SIMP-03: Terrain type grid with 8 options displays and validates
- SIMP-04: Awkwardness 3-button selection (smooth/normal/awkward) works
- SIMP-05: Notes textarea accepts free-form text
- SIMP-06: No style multi-select UI present
- SIMP-07: No failure reasons multi-select UI present
- SIMP-08: Form prevents submission when required fields missing
- SIMP-09: Form resets to defaults after successful save
</success_criteria>

<output>
After completion, create `.planning/phases/30-simplified-logger-foundation/30-02-SUMMARY.md`
</output>
