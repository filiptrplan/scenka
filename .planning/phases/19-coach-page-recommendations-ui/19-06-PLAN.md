---
phase: 19-coach-page-recommendations-ui
plan: 06
type: execute
wave: 2
depends_on: [19-02]
files_modified:
  - src/App.tsx
  - src/components/features/coach-page.tsx
autonomous: true
must_haves:
  truths:
    - Coach navigation tab appears in main nav
    - Coach route accessible at /coach
    - "Ask Coach a Question" button navigates to /coach/chat
    - /coach/chat route exists (can be stub/placeholder)
    - Nav tab highlights when on /coach page
    - User can navigate between Climbs, Analytics, Coach, and Settings
  artifacts:
    - path: src/App.tsx
      provides: Coach route and navigation
      contains: "Route path='coach'", "NavLink to='/coach'"
    - path: src/components/features/coach-page.tsx
      provides: Ask Coach button with navigation
      contains: "Ask Coach a Question", "navigate('/coach/chat')"
  key_links:
    - from: "Coach NavLink"
      to: "/coach route"
      via: "react-router-dom"
      pattern: "NavLink to='/coach'"
    - from: "Ask Coach button"
      to: "/coach/chat route"
      via: "react-router-dom navigate"
      pattern: "navigate\\('/coach/chat'\\)"
    - from: "Route"
      to: "CoachPage component"
      via: "element prop"
      pattern: "element=<CoachPage />"
---

<objective>
Add Coach route and navigation entry points from recommendations to chat
Purpose: Make Coach Page accessible from main nav and provide chat entry point for Q&A
Output: Working /coach route with nav tab and "Ask Coach" button navigating to /coach/chat stub
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/19-coach-page-recommendations-ui/19-RESEARCH.md
@.planning/phases/19-coach-page-recommendations-ui/19-02-SUMMARY.md

@src/App.tsx
@src/components/features/coach-page.tsx
</context>

<tasks>

<task type="auto">
  <name>Add Coach route and navigation tab to App.tsx</name>
<files>src/App.tsx</files>
<action>
Update src/App.tsx to add Coach route and navigation:

1. Import CoachPage from features:
   import { ChartsPage, ClimbCard, Logger, ProtectedRoute, SettingsPage, CoachPage } from '@/components/features'

2. Add Coach NavLink to the nav section (after Analytics, before Settings):
   <NavLink
     to="/coach"
     className={({ isActive }) =>
       `flex-1 text-center px-4 py-3 border-2 text-xs font-black uppercase tracking-wider transition-all ${
         isActive
           ? 'bg-white/10 border-white/30 text-white'
           : 'border-white/20 hover:border-white/40 bg-white/[0.02] text-[#aaa]'
       }`
     }
   >
     Coach
   </NavLink>

   Place this after the Analytics NavLink and before the closing </nav> tag.

3. Add Coach route to Routes (after analytics, before settings):
   <Route path="/" element={<Layout />}>
     <Route index element={<DashboardWrapper />} />
     <Route path="analytics" element={<ChartsPage />} />
     <Route path="coach" element={<CoachPage />} />  {/* NEW */}
     <Route path="settings" element={<SettingsPage />} />
   </Route>

4. Add /coach/chat stub route (can be simple placeholder for now):
   <Route path="coach/chat" element={<div className="min-h-screen bg-[#0a0a0a] text-[#f5f5f5] p-4 pb-24"><div className="mx-auto max-w-2xl"><p className="text-center py-12 text-[#888]">Chat feature coming in Phase 21</p></div></div>} />

   Place this inside the Layout route, after the coach route.

This adds the Coach tab to main navigation and makes /coach and /coach/chat accessible.
  </action>
  <verify>
pnpm typecheck passes
</verify>
  <done>
Coach tab added to nav, /coach route added, /coach/chat stub route added
</done>
</task>

<task type="auto">
  <name>Verify Ask Coach button navigation in CoachPage</name>
<files>src/components/features/coach-page.tsx</files>
<action>
Verify the "Ask Coach a Question" button in CoachPage navigates to /coach/chat:

1. Ensure useNavigate is imported from react-router-dom at the top:
   import { useNavigate } from 'react-router-dom'

2. Ensure navigate is called inside CoachPage:
   const navigate = useNavigate()

3. Verify the "Ask Coach a Question" button has the onClick handler:
   <Button
     variant="outline"
     onClick={() => navigate('/coach/chat')}
     ...
   >
     <MessageCircle className="h-4 w-4 mr-2" />
     Ask Coach a Question
   </Button>

The button should already exist from plan 19-03 - verify the navigate call is correct.

If the button is missing the navigate function or onClick handler, add it.

This provides the entry point from recommendations to chat for requirement CHAT-05.
  </action>
  <verify>
pnpm typecheck passes
</verify>
  <done>
Ask Coach button verified to navigate to /coach/chat
</done>
</task>

<task type="auto">
  <name>Verify navigation styling and active states</name>
<files>src/App.tsx</files>
<action>
Verify the Coach NavLink has correct styling matching other nav items:

1. Check that the NavLink className function matches the pattern:
   ({ isActive }) => `flex-1 text-center px-4 py-3 border-2 text-xs font-black uppercase tracking-wider transition-all ${
     isActive
       ? 'bg-white/10 border-white/30 text-white'
       : 'border-white/20 hover:border-white/40 bg-white/[0.02] text-[#aaa]'
   }`

2. Verify all nav items have the same structure:
   - to="/coach" (to prop correct)
   - className with isActive prop
   - Same styling as Climbs and Analytics tabs
   - Text content: "Coach"

3. Test navigation flow:
   - Click Coach tab -> navigates to /coach
   - Back button -> returns to previous page
   - Active state highlights correctly when on /coach

This ensures visual consistency and proper navigation behavior.
  </action>
  <verify>
pnpm typecheck passes
</verify>
  <done>
Coach NavLink styling verified consistent with other nav items, navigation works correctly
</done>
</task>

</tasks>

<verification>
After completion, verify:
1. TypeScript compiles without errors
2. Coach tab appears in main navigation
3. Coach tab is highlighted when on /coach page
4. Clicking Coach tab navigates to /coach
5. "Ask Coach a Question" button navigates to /coach/chat
6. /coach/chat shows "Chat feature coming in Phase 21" placeholder
7. All nav tabs maintain consistent styling
</verification>

<success_criteria>
Coach route and navigation working with "Ask Coach" button entry point to chat (stub)
</success_criteria>

<output>
After completion, create `.planning/phases/19-coach-page-recommendations-ui/19-06-SUMMARY.md`
</output>
