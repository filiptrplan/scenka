# Requirements Archive: v2.0 AI Coach

**Archived:** 2026-01-20
**Status:** ✅ SHIPPED

This is the archived requirements specification for v2.0 AI Coach milestone.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Scenka AI Coach

**Defined:** 2026-01-17
**Core Value:** Quick, frictionless climb logging

## v1 Requirements

Requirements for v2.0 AI Coach milestone. Each maps to roadmap phases.

### Weekly Recommendations

- [x] **REC-01**: User can view weekly focus statement (1-2 sentences explaining what to work on this week)
- [x] **REC-02**: User can view 3 personalized drills with name, description, and sets/reps/rest
- [x] **REC-03**: User can manually regenerate recommendations via button
- [x] **REC-04**: Weekly recommendations persist across sessions with generation date displayed
- [x] **REC-05**: Loading states show during AI generation
- [x] **REC-06**: Error handling with fallback to previous recommendations on API failure
- [x] **REC-07**: Recommendations work offline (last cached recommendations accessible without internet)

### Pattern Analysis

- [x] **PATT-01**: User can view failure patterns summary (most common failure reasons)
- [x] **PATT-02**: User can view style weaknesses analysis (styles where user struggles)
- [x] **PATT-03**: User can view climbing frequency tracking (climbs per week/month)
- [x] **PATT-04**: User can view recent successes context (recent sends, grade progress, redemptions)

### Chat Interface

- [x] **CHAT-01**: User can send messages through text input with send button (mobile-optimized)
- [x] **CHAT-02**: User can view message bubbles with visual distinction between user and assistant
- [x] **CHAT-03**: Chat responses stream in real-time using Server-Sent Events
- [x] **CHAT-04**: Chat retains limited message history (last 10-20 messages) for context
- [x] **CHAT-05**: Clear entry points to chat from recommendations page
- [x] **CHAT-06**: Graceful error handling with helpful fallback messages
- [x] **CHAT-07**: Context-aware chat includes pre-processed patterns (failure, styles, frequency)
- [x] **CHAT-08**: Chat provides climbing-specific domain knowledge (understands beta, grades, styles)

### Differentiators

- [x] **DIFF-01**: Pattern analysis based on exception-logging (only significant climbs, no noise)
- [x] **DIFF-02**: Recommendations link to user's redemption tracking (drills reference actual climbs)

## v2 Requirements

Deferred to future release. Tracked but not in current roadmap.

### Automation

- **AUTO-01**: Automated weekly recommendation generation (pg_cron job)
- **AUTO-02**: Usage tracking dashboard with per-user quotas
- **AUTO-03**: Cost alerting before threshold exceeded

### Advanced Chat

- **CHAT-V2-01**: Quick-reply buttons for common questions
- **CHAT-V2-02**: Clear conversation button to reset history
- **CHAT-V2-03**: "Report bad advice" feature for feedback

## Out of Scope

Explicitly excluded. Documented to prevent scope creep.

| Feature | Reason |
|---------|--------|
| Video analysis/form checking | Complex ML, privacy concerns, requires camera permissions |
| Voice-based coaching | Awkward in gyms, battery drain, gym noise interference |
| 4-week complex periodization | Overwhelming for climbers, weekly scope simpler to validate |
| Social features/leaderboards | Competitive pressure, doesn't align with personal improvement focus |
| Push notifications | Interrupts gym sessions, annoying when climbing |
| Lengthy onboarding/assessment | High friction, Lattice requires 15-20 questions - users drop off |
| Unlimited conversation history | Bloats database, increases API costs, violates privacy-first |
| Human-like deception | Users resent bots pretending to be human, damages trust |

## Traceability

Which phases cover which requirements. Updated during roadmap creation.

| Requirement | Phase | Status |
|-------------|-------|--------|
| REC-01 | Phase 19 | Complete |
| REC-02 | Phase 19 | Complete |
| REC-03 | Phase 19 | Complete |
| REC-04 | Phase 18 | Complete |
| REC-05 | Phase 19 | Complete |
| REC-06 | Phase 18 | Complete |
| REC-07 | Phase 18 | Complete |
| PATT-01 | Phase 18 | Complete |
| PATT-02 | Phase 18 | Complete |
| PATT-03 | Phase 18 | Complete |
| PATT-04 | Phase 18 | Complete |
| CHAT-01 | Phase 21 | Complete |
| CHAT-02 | Phase 21 | Complete |
| CHAT-03 | Phase 21 | Complete |
| CHAT-04 | Phase 21 | Complete |
| CHAT-05 | Phase 19 | Complete |
| CHAT-06 | Phase 21 | Complete |
| CHAT-07 | Phase 21 | Complete |
| CHAT-08 | Phase 20 | Complete |
| DIFF-01 | Phase 18 | Complete |
| DIFF-02 | Phase 18 | Complete |

**Coverage:**
- v1 requirements: 21 total
- Mapped to phases: 21
- Unmapped: 0 ✓

---
*Requirements defined: 2026-01-17*
*Last updated: 2026-01-17 after Phase 19 completion*
*Archived: 2026-01-20 as part of v2.0 milestone completion*
